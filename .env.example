# .env.example - Configuration Template for CareerFlow

# ==============================================================================
# GENERAL APPLICATION SETTINGS
# ==============================================================================
# Set to 0 for production, 1 for development
DEBUG=0
# Recommended for Docker to ensure print statements appear without delay
PYTHONUNBUFFERED=1
# For Next.js (careerflow frontend)
NODE_ENV=production
NEXT_TELEMETRY_DISABLED=1

# ==============================================================================
# DEPLOYMENT CONFIGURATION
# ==============================================================================
# Domain or IP address where the application is hosted
# Examples: yourdomain.com, server.example.com, 192.168.1.100
DOMAIN=your-domain.com
CERTBOT_EMAIL=your-email@example.com
# Nginx ports (external ports that nginx is exposed on)
NGINX_HTTP_PORT=880
NGINX_HTTPS_PORT=8443

# ==============================================================================
# DJANGO CORE SETTINGS
# ==============================================================================
# *** MUST CHANGE IN PRODUCTION - Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
DJANGO_SECRET_KEY=your-very-secure-django-secret-key-here
# In production, specify your exact domains (no wildcards for security)
DJANGO_ALLOWED_HOSTS=${DOMAIN},localhost,127.0.0.1
# Change if you use a specific production settings file
DJANGO_SETTINGS_MODULE=proj0.settings

# ==============================================================================
# DATABASE (PostgreSQL)
# These variables are used by the 'db' service and Django
# ==============================================================================
POSTGRES_DB=careerflow_db
POSTGRES_USER=postgres
# *** MUST CHANGE IN PRODUCTION - Use a strong password ***
POSTGRES_PASSWORD=your_very_secure_database_password_here

# Django database connection settings (uses the above PostgreSQL values)
DJANGO_DB_NAME=careerflow_db
DJANGO_DB_USER=postgres
DJANGO_DB_PASSWORD=your_very_secure_database_password_here
DJANGO_DB_HOST=db
DJANGO_DB_PORT=5432

# ==============================================================================
# EMAIL SETTINGS (for Django)
# ==============================================================================
# Example for Gmail SMTP - adjust for your email provider
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your_email@gmail.com
# *** For Gmail, use App Password, not regular password ***
EMAIL_HOST_PASSWORD=your_app_password_here
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False

# ==============================================================================
# AUTHENTICATION & AUTHORIZATION
# ==============================================================================
# NextAuth (for CareerFlow frontend) - Using HTTPS for production security
NEXTAUTH_URL=https://${DOMAIN}:${NGINX_HTTPS_PORT}
# *** MUST CHANGE IN PRODUCTION - Generate with: openssl rand -base64 32 ***
NEXTAUTH_SECRET=your-very-secure-nextauth-secret-here
NEXTAUTH_JWT_SECRET=your-jwt-secret-key-here

# Django JWT Settings (if you use DRF Simple JWT or similar)
# *** MUST CHANGE IN PRODUCTION ***
JWT_SECRET_KEY=your-django-jwt-secret-key-here
JWT_ALGORITHM=HS256

# Django Superuser (for automatic creation during deployment)
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@${DOMAIN}
DJANGO_SUPERUSER_PASSWORD=your_very_secure_admin_password_here

# Google OAuth Credentials (used by Django and CareerFlow)
# *** MUST REPLACE WITH YOUR ACTUAL GOOGLE CLOUD CONSOLE CREDENTIALS ***
# Get these from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ==============================================================================
# API URLs & SERVICE INTEGRATIONS
# ==============================================================================
# For CareerFlow Frontend (PUBLIC URLs - used by browser)
# These URLs are what browsers will use to access your application
NEXT_PUBLIC_API_URL=https://${DOMAIN}:${NGINX_HTTPS_PORT}
NEXT_PUBLIC_DJANGO_URL=https://${DOMAIN}:${NGINX_HTTPS_PORT}
NEXT_PUBLIC_BACKEND_URL=https://${DOMAIN}:${NGINX_HTTPS_PORT}
NEXT_PUBLIC_AI_API_URL=https://${DOMAIN}:${NGINX_HTTPS_PORT}/ai-api

# NextAuth Backend URL (INTERNAL - container to container communication)
NEXTAUTH_BACKEND_URL=http://django:8000

# AI Service URL (INTERNAL - Django to API service communication)
AI_SERVICE_URL=http://api:80/resumes/

# ==============================================================================
# LANGCHAIN & GOOGLE AI (for the 'api' service)
# ==============================================================================
# For Google Generative AI - different from OAuth Client ID
# Get from: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=your-google-ai-api-key-here

# LangSmith (optional - for AI debugging and monitoring)
LANGCHAIN_TRACING_V2=true
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_API_KEY=your-langsmith-api-key-here
LANGCHAIN_PROJECT=your-langsmith-project-name

# Third-party API Keys
NEXT_PUBLIC_IPDATA_API_KEY=your-ipdata-api-key-here

# ==============================================================================
# SECURITY SETTINGS (for production)
# ==============================================================================
# Enable HTTPS redirects and security headers
SECURE_SSL_REDIRECT=True
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_BROWSER_XSS_FILTER=True
SECURE_CONTENT_TYPE_NOSNIFF=True

# ==============================================================================
# LINKEDIN API CREDENTIALS (Optional, if used)
# ==============================================================================
# LINKEDIN_CLIENT_ID=your-actual-linkedin-client-id
# LINKEDIN_CLIENT_SECRET=your-actual-linkedin-client-secret

# ==============================================================================
# DEVELOPMENT OVERRIDES (uncomment for local development)
# ==============================================================================
# For local development, you might want to use HTTP instead of HTTPS
# NEXTAUTH_URL=http://${DOMAIN}:${NGINX_HTTP_PORT}
# NEXT_PUBLIC_API_URL=http://${DOMAIN}:${NGINX_HTTP_PORT}
# NEXT_PUBLIC_DJANGO_URL=http://${DOMAIN}:${NGINX_HTTP_PORT}
# NEXT_PUBLIC_BACKEND_URL=http://${DOMAIN}:${NGINX_HTTP_PORT}
# NEXT_PUBLIC_AI_API_URL=http://${DOMAIN}:${NGINX_HTTP_PORT}/ai-api
# DEBUG=1
# NODE_ENV=development