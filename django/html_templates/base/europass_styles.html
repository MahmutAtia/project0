<style>
        :root {
            --europass-blue: #003399; /* Official Europass blue */
            --europass-light-blue: #e6f2ff; /* Lighter shade for backgrounds */
            --europass-grey: #4d4d4d;
            --europass-light-grey: #f2f2f2;
            --europass-border-grey: #cccccc;
            --font-family-primary: 'Open Sans', 'Roboto', sans-serif;
            --base-font-size: 10pt;
            --line-height: 1.4;
        }

        /* --- Theme Variations --- */
        body.theme-grey {
            --europass-blue: #6c757d; /* Bootstrap secondary grey */
            --europass-light-blue: #f8f9fa; /* Bootstrap light grey */
            --europass-grey: #343a40; /* Bootstrap dark grey */
            --europass-border-grey: #ced4da; /* Bootstrap lighter grey */
        }

        body.theme-blue {
            --europass-blue: #0056b3; /* Darker blue */
            --europass-light-blue: #cce5ff; /* Lighter blue */
        }

        body.theme-green {
            --europass-blue: #28a745; /* Bootstrap success green */
            --europass-light-blue: #d4edda; /* Light green */
            --europass-grey: #155724; /* Dark green */
            --europass-border-grey: #c3e6cb; /* Lighter green border */
        }

        @page {
            size: A4;
            margin: 0.8cm 0.4cm 0.4cm 0.4cm;
            orphans: 2;
            widows: 2;
        }

        body {
            font-family: var(--font-family-primary);
            font-size: var(--base-font-size);
            line-height: var(--line-height);
            color: var(--europass-grey);
            background-color: #ffffff;
            margin: 0;
            padding: 0;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        /* Layout */
        .resume-container {
            display: flex;
            flex-direction: row;
        }

        .sidebar {
            flex: 0 0 30%;
            background-color: var(--europass-light-blue);
            padding: 1cm 1cm;
            border-right: 1px solid var(--europass-border-grey);
            box-sizing: border-box;
        }

        .main-content {
            flex: 1;
            padding: 1cm 1cm;
            box-sizing: border-box;
        }

        /* Sidebar Styling */
        .sidebar h1 {
            font-size: 1.8rem;
            color: var(--europass-blue);
            margin: 0 0 0.2em 0;
            font-weight: 700;
        }
        .sidebar .headline {
            font-size: 1.1rem;
            color: var(--europass-grey);
            margin-bottom: 1.5em;
            font-weight: 600;
        }
        .sidebar-section {
            margin-bottom: 1.2em;
        }
        .sidebar-section h3 {
            font-size: 1.1rem;
            color: var(--europass-blue);
            border-bottom: 1px solid var(--europass-border-grey);
            padding-bottom: 0.3em;
            margin-bottom: 0.8em;
            font-weight: 700;
        }
        .contact-info {
            list-style: none;
            padding: 0;
            margin: 0;
            font-size: 0.9rem;
        }
        .contact-info li {
            margin-bottom: 0.6em;
            display: flex;
            align-items: flex-start;
        }
        .contact-info i.icon {
            color: var(--europass-blue);
            margin-right: 8px;
            width: 16px;
            text-align: center;
            margin-top: 0.15em;
        }
        .contact-info a {
            color: var(--europass-grey);
            text-decoration: none;
        }
        .contact-info a:hover {
            text-decoration: underline;
            color: var(--europass-blue);
        }
        .sidebar-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            display: block;
            margin: 0 auto 1.5em auto;
            border: 3px solid var(--europass-border-grey);
        }
        .skills-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .skills-list .skill-category {
            font-weight: 700;
            color: var(--europass-blue);
            margin-top: 0.8em;
            margin-bottom: 0.3em;
            font-size: 0.95rem;
        }
        .skills-list .skill-category:first-child {
            margin-top: 0;
        }
        .skills-list li:not(.skill-category) {
            background-color: #ffffff;
            border: 1px solid var(--europass-border-grey);
            padding: 3px 8px;
            border-radius: 4px;
            margin-bottom: 6px;
            margin-right: 6px;
            display: inline-block;
            font-size: 0.85rem;
        }

        /* Main Content Styling */
        .main-content h2 {
            font-size: 1.4rem;
            color: var(--europass-blue);
            margin: 0 0 1em 0;
            padding-bottom: 0.3em;
            padding-left: 10px;
            border-left: 3px solid var(--europass-blue);
            font-weight: 700;
            page-break-after: avoid;
        }
        .main-content h2:first-child {
            margin-top: 0;
        }
        .main-content section {
            margin-bottom: 1.5em;
            page-break-inside: auto;
        }
        .main-content section:last-child {
            margin-bottom: 0;
        }
        .main-content p {
            margin: 0 0 0.8em 0;
        }
        .main-content ul {
            padding-left: 20px;
            margin-top: 0.5em;
            margin-bottom: 1em;
        }
        .main-content li {
            margin-bottom: 0.4em;
        }

        .item {
            margin-bottom: 1em;
            padding-left: 15px; 
            margin-left: 10px;
            page-break-inside: auto;
            position: relative;
        }
        
        .item.keep-together {
            page-break-inside: avoid;
        }

        .item-header {
            margin-bottom: 0.3em;
            page-break-after: avoid;
        }

        .item-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--europass-grey);
            display: block;
            margin-bottom: 0.1em;
        }
        .item-subtitle {
            font-size: 1rem;
            font-weight: 600;
            color: var(--europass-grey);
            display: block;
            margin-bottom: 0.3em;
        }
        .item-date-location {
            font-size: 0.9rem;
            color: var(--europass-blue);
            font-weight: 600;
            margin-bottom: 0.5em;
        }
        .item-date-location .location { margin-left: 1em; }

        .item .description {
            font-size: 0.95rem;
        }
        .item .description ul {
            list-style: disc;
            margin-top: 0.3em;
            margin-bottom: 0.5em;
        }
        .item .description ul li {
            margin-bottom: 0.2em;
        }
        .project-link, .project-tech {
            font-size: 0.9rem;
            margin-top: 0.5em;
        }
        .project-link i { color: var(--europass-blue); margin-right: 5px; }
        .project-tech strong { font-weight: 600; }

        /* RTL Support */
        html[lang="ar"] body { direction: rtl; text-align: right; }
        html[lang="ar"] .resume-container { flex-direction: row-reverse; }
        html[lang="ar"] .sidebar { border-right: none; border-left: 1px solid var(--europass-border-grey); }
        html[lang="ar"] ul { padding-left: 0; padding-right: 20px; }
        html[lang="ar"] .sidebar ul { padding-right: 0; }
        html[lang="ar"] .main-content h2 { padding-left: 0; padding-right: 10px; border-left: none; border-right: 3px solid var(--europass-blue); }
        html[lang="ar"] .main-content .item { padding-left: 0; padding-right: 15px; margin-left: 0; margin-right: 10px; }
        html[lang="ar"] i.icon { margin-right: 0; margin-left: 8px; }
        html[lang="ar"] .skills-list li { margin-right: 0; margin-left: 6px; }
        html[lang="ar"] .item-date-location .location { margin-left: 0; margin-right: 1em; }
        html[lang="ar"] .project-link i { margin-right: 0; margin-left: 5px; }
    </style>
